var _=(l,i,a)=>new Promise((r,n)=>{var c=e=>{try{s(a.next(e))}catch(t){n(t)}},p=e=>{try{s(a.throw(e))}catch(t){n(t)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(c,p);s((a=a.apply(l,i)).next())});import{r as o,m as g,a as y,de as f,o as h,c as w,df as x}from"./index-i8YlNBdy.js";function k(l){const{api:i=f,transform:a=f,immediate:r=!0}=l||{},n=o(!0),c=o(1),p=o(20),s=o(0),e=o({}),t=o([]),v=g(()=>{const u=a?a(y(e)):e.value;return Object.assign({},u,{page:c.value,limit:p.value})});r&&m();function m(){return _(this,null,function*(){try{n.value=!0;const u=yield i(v.value);t.value=u.rows,s.value=u.total}catch(u){n.value=!1}})}function d(){c.value=1,t.value=[],m()}return{loading:n,page:c,limit:p,params:e,total:s,list:t,query:m,refresh:d}}const b={__name:"index",setup(l){return k(),(i,a)=>{const r=x;return h(),w(r)}}};export{b as default};
