var _=(l,i,t)=>new Promise((r,n)=>{var c=e=>{try{s(t.next(e))}catch(a){n(a)}},p=e=>{try{s(t.throw(e))}catch(a){n(a)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(c,p);s((t=t.apply(l,i)).next())});import{r as o,m as d,a as g,o as y,c as h,de as w}from"./index-BLjFcgUy.js";function x(l){const{url:i,transform:t,immediate:r=!0}=l||{},n=o(!0),c=o(1),p=o(20),s=o(0),e=o({}),a=o([]),f=d(()=>{const u=t?t(g(e)):e.value;return Object.assign({},u,{page:c.value,limit:p.value})});r&&m();function m(){return _(this,null,function*(){try{n.value=!0;const u=yield(f.value,void 0);a.value=u.rows,s.value=u.total}catch(u){n.value=!1}})}function v(){c.value=1,a.value=[],m()}return{loading:n,page:c,limit:p,params:e,total:s,list:a,query:m,refresh:v}}const B={__name:"index",setup(l){return x(),(i,t)=>{const r=w;return y(),h(r)}}};export{B as default};
