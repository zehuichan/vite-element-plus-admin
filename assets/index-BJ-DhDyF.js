var h=(s,r,e)=>new Promise((o,a)=>{var l=d=>{try{p(e.next(d))}catch(u){a(u)}},n=d=>{try{p(e.throw(d))}catch(u){a(u)}},p=d=>d.done?o(d.value):Promise.resolve(d.value).then(l,n);p((e=e.apply(s,r)).next())});import{r as m,h as D,aZ as N,f as C,Z as k,bc as B,aA as E,o as U,F as V,w as f,i as $,j as g,D as c,l as j,m as I,bd as M,be as P,bf as T,bg as Z}from"./index-B6dkZqol.js";function q(s){const r=m(null),e=m([]),o=D(()=>e.value.map(n=>n.id));return N(()=>{var n;(n=s.value)==null||n.clearSelection()}),{currentRef:r,selectionRef:e,selectionIds:o,handleCurrentChange:n=>{r.value=n},handleSelectionChange:n=>{e.value=n}}}function A(){const s=C({show:!1,row:null,customEvent:null,axis:{x:0,y:0}});return{dropdownRef:s,createDropdown:e=>{const{row:o={},event:a}=e||{};s.show=!0,s.row=o,s.customEvent=a,s.axis={x:a.clientX,y:a.clientY}}}}const F={class:"table-wrapper"},H=Object.assign({name:"Demo"},{__name:"index",setup(s){const r=[{label:"姓名",prop:"name"},{label:"年龄",prop:"age"},{label:"地址",prop:"address"}],e=m(),o=m(!1),a=m([]),l=C({pageNum:1,pageSize:30}),{currentRef:n,selectionRef:p,selectionIds:d,handleCurrentChange:u,handleSelectionChange:v}=q(e),{dropdownRef:w,createDropdown:b}=A();return k(()=>h(this,null,function*(){o.value=!0,yield B(250),a.value=[{name:"张三",age:18,address:"北京",id:1},{name:"李四",age:20,address:"上海",id:2},{name:"王五",age:22,address:"广州",id:3},{name:"赵六",age:24,address:"深圳",id:4},{name:"孙七",age:26,address:"杭州",id:5},{name:"周八",age:28,address:"南京",id:6},{name:"吴九",age:30,address:"苏州",id:7},{name:"郑十",age:32,address:"成都",id:8},{name:"钱十一",age:34,address:"重庆",id:9},{name:"马十二",age:36,address:"武汉",id:10},{name:"朱十三",age:38,address:"郑州",id:11},{name:"陈十四",age:40,address:"西安",id:12},{name:"梁十五",age:42,address:"长沙",id:13},{name:"黄十六",age:44,address:"南昌",id:14},{name:"张十七",age:46,address:"福州",id:15},{name:"李十八",age:48,address:"厦门",id:16},{name:"王十九",age:50,address:"青岛",id:17},{name:"赵二十",age:52,address:"济南",id:18},{name:"孙二十一",age:54,address:"石家庄",id:19},{name:"周二十二",age:56,address:"太原",id:20},{name:"吴二十三",age:58,address:"呼和浩特",id:21}],o.value=!1})),(O,t)=>{const _=M,x=E("vc-table"),S=P,R=T,y=Z;return U(),V(y,null,{default:f(()=>[$("div",F,[g(x,{ref_key:"tableRef",ref:e,adaptive:"","highlight-current-row":"",loading:o.value,columns:r,data:a.value,total:a.value.length,"current-page":l.pageNum,"onUpdate:currentPage":t[0]||(t[0]=i=>l.pageNum=i),"page-size":l.pageSize,"onUpdate:pageSize":t[1]||(t[1]=i=>l.pageSize=i),onCurrentChange:c(u),onSelectionChange:c(v),onRowContextmenu:t[2]||(t[2]=(i,X,z)=>c(b)({row:i,event:z})),onContextmenu:t[3]||(t[3]=j(()=>{},["prevent","stop"]))},{default:f(()=>[g(_,{type:"selection",width:"55",align:"center"}),g(_,{type:"index",label:"序号",width:"55",align:"center"})]),_:1},8,["loading","data","total","current-page","page-size","onCurrentChange","onSelectionChange"])]),g(R,{show:c(w).show,"onUpdate:show":t[4]||(t[4]=i=>c(w).show=i),axis:c(w).axis},{default:f(()=>[g(S,null,{default:f(()=>[I(" 123 ")]),_:1})]),_:1},8,["show","axis"])]),_:1})}}});export{H as default};
