import{cj as O}from"./index-627e8659.js";import{Q as D,k as M,u as N}from"./runtime-core.esm-bundler-c02bc754.js";const[q,z]=O(e=>{const a=D(e);return{getIsMobile:M(()=>N(a.isMobile)),getIsLaptop:M(()=>N(a.isLaptop))}});function _(e){for(var a=[],r=0;r<e.length;){var f=e[r];if(f==="*"||f==="+"||f==="?"){a.push({type:"MODIFIER",index:r,value:e[r++]});continue}if(f==="\\"){a.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});continue}if(f==="{"){a.push({type:"OPEN",index:r,value:e[r++]});continue}if(f==="}"){a.push({type:"CLOSE",index:r,value:e[r++]});continue}if(f===":"){for(var d="",t=r+1;t<e.length;){var v=e.charCodeAt(t);if(v>=48&&v<=57||v>=65&&v<=90||v>=97&&v<=122||v===95){d+=e[t++];continue}break}if(!d)throw new TypeError("Missing parameter name at ".concat(r));a.push({type:"NAME",index:r,value:d}),r=t;continue}if(f==="("){var g=1,u="",t=r+1;if(e[t]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(t));for(;t<e.length;){if(e[t]==="\\"){u+=e[t++]+e[t++];continue}if(e[t]===")"){if(g--,g===0){t++;break}}else if(e[t]==="("&&(g++,e[t+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(t));u+=e[t++]}if(g)throw new TypeError("Unbalanced pattern at ".concat(r));if(!u)throw new TypeError("Missing pattern at ".concat(r));a.push({type:"PATTERN",index:r,value:u}),r=t;continue}a.push({type:"CHAR",index:r,value:e[r++]})}return a.push({type:"END",index:r,value:""}),a}function S(e,a){a===void 0&&(a={});for(var r=_(e),f=a.prefixes,d=f===void 0?"./":f,t="[^".concat(A(a.delimiter||"/#?"),"]+?"),v=[],g=0,u=0,p="",c=function(m){if(u<r.length&&r[u].type===m)return r[u++].value},i=function(m){var y=c(m);if(y!==void 0)return y;var R=r[u],b=R.type,P=R.index;throw new TypeError("Unexpected ".concat(b," at ").concat(P,", expected ").concat(m))},s=function(){for(var m="",y;y=c("CHAR")||c("ESCAPED_CHAR");)m+=y;return m};u<r.length;){var E=c("CHAR"),h=c("NAME"),x=c("PATTERN");if(h||x){var o=E||"";d.indexOf(o)===-1&&(p+=o,o=""),p&&(v.push(p),p=""),v.push({name:h||g++,prefix:o,suffix:"",pattern:x||t,modifier:c("MODIFIER")||""});continue}var l=E||c("ESCAPED_CHAR");if(l){p+=l;continue}p&&(v.push(p),p="");var T=c("OPEN");if(T){var o=s(),C=c("NAME")||"",n=c("PATTERN")||"",w=s();i("CLOSE"),v.push({name:C||(n?g++:""),pattern:C&&!n?t:n,prefix:o,suffix:w,modifier:c("MODIFIER")||""});continue}i("END")}return v}function B(e,a){return H(S(e,a),a)}function H(e,a){a===void 0&&(a={});var r=I(a),f=a.encode,d=f===void 0?function(u){return u}:f,t=a.validate,v=t===void 0?!0:t,g=e.map(function(u){if(typeof u=="object")return new RegExp("^(?:".concat(u.pattern,")$"),r)});return function(u){for(var p="",c=0;c<e.length;c++){var i=e[c];if(typeof i=="string"){p+=i;continue}var s=u?u[i.name]:void 0,E=i.modifier==="?"||i.modifier==="*",h=i.modifier==="*"||i.modifier==="+";if(Array.isArray(s)){if(!h)throw new TypeError('Expected "'.concat(i.name,'" to not repeat, but got an array'));if(s.length===0){if(E)continue;throw new TypeError('Expected "'.concat(i.name,'" to not be empty'))}for(var x=0;x<s.length;x++){var o=d(s[x],i);if(v&&!g[c].test(o))throw new TypeError('Expected all "'.concat(i.name,'" to match "').concat(i.pattern,'", but got "').concat(o,'"'));p+=i.prefix+o+i.suffix}continue}if(typeof s=="string"||typeof s=="number"){var o=d(String(s),i);if(v&&!g[c].test(o))throw new TypeError('Expected "'.concat(i.name,'" to match "').concat(i.pattern,'", but got "').concat(o,'"'));p+=i.prefix+o+i.suffix;continue}if(!E){var l=h?"an array":"a string";throw new TypeError('Expected "'.concat(i.name,'" to be ').concat(l))}}return p}}function A(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function I(e){return e&&e.sensitive?"":"i"}function F(e,a){if(!a)return e;for(var r=/\((?:\?<(.*?)>)?(?!\?)/g,f=0,d=r.exec(e.source);d;)a.push({name:d[1]||f++,prefix:"",suffix:"",modifier:"",pattern:""}),d=r.exec(e.source);return e}function $(e,a,r){var f=e.map(function(d){return U(d,a,r).source});return new RegExp("(?:".concat(f.join("|"),")"),I(r))}function L(e,a,r){return W(S(e,r),a,r)}function W(e,a,r){r===void 0&&(r={});for(var f=r.strict,d=f===void 0?!1:f,t=r.start,v=t===void 0?!0:t,g=r.end,u=g===void 0?!0:g,p=r.encode,c=p===void 0?function(P){return P}:p,i=r.delimiter,s=i===void 0?"/#?":i,E=r.endsWith,h=E===void 0?"":E,x="[".concat(A(h),"]|$"),o="[".concat(A(s),"]"),l=v?"^":"",T=0,C=e;T<C.length;T++){var n=C[T];if(typeof n=="string")l+=A(c(n));else{var w=A(c(n.prefix)),m=A(c(n.suffix));if(n.pattern)if(a&&a.push(n),w||m)if(n.modifier==="+"||n.modifier==="*"){var y=n.modifier==="*"?"?":"";l+="(?:".concat(w,"((?:").concat(n.pattern,")(?:").concat(m).concat(w,"(?:").concat(n.pattern,"))*)").concat(m,")").concat(y)}else l+="(?:".concat(w,"(").concat(n.pattern,")").concat(m,")").concat(n.modifier);else n.modifier==="+"||n.modifier==="*"?l+="((?:".concat(n.pattern,")").concat(n.modifier,")"):l+="(".concat(n.pattern,")").concat(n.modifier);else l+="(?:".concat(w).concat(m,")").concat(n.modifier)}}if(u)d||(l+="".concat(o,"?")),l+=r.endsWith?"(?=".concat(x,")"):"$";else{var R=e[e.length-1],b=typeof R=="string"?o.indexOf(R[R.length-1])>-1:R===void 0;d||(l+="(?:".concat(o,"(?=").concat(x,"))?")),b||(l+="(?=".concat(o,"|").concat(x,")"))}return new RegExp(l,I(r))}function U(e,a,r){return e instanceof RegExp?F(e,a):Array.isArray(e)?$(e,a,r):L(e,a,r)}export{z as a,B as c,U as p,q as u};
